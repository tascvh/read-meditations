import{_ as j}from"./BWueSjaD.js";import{K as A,L,M as S,P as O,N as g,v as B,r as C,O as H,Q as I,R as V,f as w,S as x,T as N,U as $,V as E,W as F,X as M,Y as q,F as D,Z as Q,$ as U,a0 as W,_ as X,c as Y,o as Z,a as c,b as f,w as p,d as y}from"./BunUn4iA.js";const z=A({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const t=e.renderKey,o=e.route,s={};for(const a in e.route)Object.defineProperty(s,a,{get:()=>t===e.renderKey?e.route[a]:o[a],enumerable:!0});return L(O,S(s)),()=>g(e.vnode,{ref:e.vnodeRef})}}),G=A({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:t,slots:o,expose:s}){const a=B(),r=C(),i=H(O,null);let l;s({pageRef:r});const d=H(I,null);let u;const v=a.deferHydration();if(a.isHydrating){const n=a.hooks.hookOnce("app:error",v);V().beforeEach(n)}e.pageKey&&w(()=>e.pageKey,(n,h)=>{n!==h&&a.callHook("page:loading:start")});let _=!1;return()=>g(Q,{name:e.name,route:e.route,...t},{default:n=>{const h=P(i,n.route,n.Component),R=i&&i.matched.length===n.route.matched.length;if(!n.Component){if(u&&!R)return u;v();return}if(u&&d&&!d.isCurrent(n.route))return u;if(h&&i&&(!d||d!=null&&d.isCurrent(i)))return R?u:null;const m=x(n,e.pageKey);!a.isHydrating&&!ee(i,n.route,n.Component)&&l===m&&(a.callHook("page:loading:end"),_=!0),l=m;const k=!!(e.transition??n.route.meta.pageTransition??N),T=k&&J([e.transition,n.route.meta.pageTransition,N,{onAfterLeave:()=>{a.callHook("page:transition:finish",n.Component)}}].filter(Boolean)),b=e.keepalive??n.route.meta.keepalive??$;return u=E(k&&T,F(b,g(M,{suspensible:!0,onPending:()=>a.callHook("page:start",n.Component),onResolve:()=>{q(()=>a.callHook("page:finish",n.Component).then(()=>{if(!_)return a.callHook("page:loading:end");_=!1}).finally(v))}},{default:()=>{const K=g(z,{key:m||void 0,vnode:o.default?g(D,void 0,o.default(n)):n.Component,route:n.route,renderKey:m||void 0,trackRootNodes:k,vnodeRef:r});return b&&(K.type.name=n.Component.type.name||n.Component.type.__name||"RouteProvider"),K}}))).default(),u}})}});function J(e){const t=e.map(o=>({...o,onAfterLeave:o.onAfterLeave?U(o.onAfterLeave):void 0}));return W(...t)}function P(e,t,o){if(!e)return!1;const s=t.matched.findIndex(a=>{var r;return((r=a.components)==null?void 0:r.default)===(o==null?void 0:o.type)});return!s||s===-1?!1:t.matched.slice(0,s).some((a,r)=>{var i,l,d;return((i=a.components)==null?void 0:i.default)!==((d=(l=e.matched[r])==null?void 0:l.components)==null?void 0:d.default)})||o&&x({route:t,Component:o})!==x({route:e,Component:o})}function ee(e,t,o){return e?t.matched.findIndex(a=>{var r;return((r=a.components)==null?void 0:r.default)===(o==null?void 0:o.type)})<t.matched.length-1:!1}const te={name:"DefaultLayout"},ne={class:"app-container"},ae={class:"app-content-header"},oe={class:"right-aligned"},ie={class:"app-content"};function re(e,t,o,s,a,r){const i=j,l=G;return Z(),Y("div",ne,[c("header",ae,[c("nav",oe,[f(i,{to:"/"},{default:p(()=>t[0]||(t[0]=[y("Home")])),_:1}),f(i,{to:"/tags"},{default:p(()=>t[1]||(t[1]=[y("Tags")])),_:1}),f(i,{to:"/collections"},{default:p(()=>t[2]||(t[2]=[y("My Collections")])),_:1}),f(i,{to:"/bookindex"},{default:p(()=>t[3]||(t[3]=[y("Index")])),_:1})])]),c("main",ie,[f(l)]),t[4]||(t[4]=c("footer",null,[c("p",null,"Â© 2023 My Nuxt App")],-1))])}const le=X(te,[["render",re]]);export{le as default};
