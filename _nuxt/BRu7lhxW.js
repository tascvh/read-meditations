import{v as V,x as B,y as L,_ as N,r as c,p as A,f as E,c as f,a as v,z as k,b as m,t as I,s as _,q as x,w,F as R,u as $,A as q,B as D,C as F,o as i}from"./CAsyAixT.js";import{a as K,C as M}from"./CrDFTOIU.js";import{p as g,g as C}from"./DL6YdULe.js";/* empty css        */import{C as P}from"./iFm3VtHO.js";import"./B6PdMA8h.js";const X="$s";function b(...s){const p=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&s.unshift(p);const[n,o]=s;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(o!==void 0&&typeof o!="function")throw new Error("[nuxt] [useState] init must be a function: "+o);const h=X+n,u=V(),r=B(u.payload.state,h);if(r.value===void 0&&o){const a=o();if(L(a))return u.payload.state[h]=a,a;r.value=a}return r}const j={class:"text-center"},z={key:0},H={class:"center-text"},T={class:"center-text"},G={__name:"[chapter_string]",setup(s){const p=$(),n=async()=>{console.log("fd");const l=g(p.params.chapter_string);if(o.value=g(p.params.chapter_string)[0],console.log("xx",o),l.length!=1){y.value=l;return}try{{const e=await(await q(l)).data;e.length&&(u.value=e[0])}{const e=await(await D(parseInt(l[0].book),parseInt(l[0].chapter))).data;a.value=e.prev?C(e.prev.book,e.prev.chapter):null,r.value=e.next?C(e.next.book,e.next.chapter):null,console.log("fetched meta")}}catch(t){console.error("XX Error fetching data:",t)}};c({book:1,chapter:1});const o=c({book:1,chapter:1});A(async()=>{await n()});const h=c({book:1,chapter:1});E(()=>p.params.chapter_string,async(l,t)=>{console.log("co",h),await n()});const u=c(null),r=c("next"),a=c("prev"),y=c([]);b("show_tags",()=>!1);const d=b("show_coll",()=>!1);return(l,t)=>{const e=F("router-link");return i(),f(R,null,[v("div",j,[v("h1",null,I(_(p).query.coll),1)]),u.value?(i(),f("div",z,[v("div",H,[a.value?(i(),x(e,{key:0,to:a.value},{default:w(()=>t[2]||(t[2]=[v("div",{class:"bordered-link"},"Prev",-1)])),_:1},8,["to"])):k("",!0),r.value?(i(),x(e,{key:1,to:r.value},{default:w(()=>t[3]||(t[3]=[v("div",{class:"bordered-link"},"Next",-1)])),_:1},8,["to"])):k("",!0)]),m(K,{p_data:u.value},null,8,["p_data"]),v("div",T,[_(d)?(i(),f("div",{key:0,class:"bordered-link",onClick:t[0]||(t[0]=S=>d.value=!_(d))},"Hide Collections")):(i(),f("div",{key:1,class:"bordered-link",onClick:t[1]||(t[1]=S=>d.value=!_(d))},"Add to Collection"))]),_(d)?(i(),x(P,{key:0,chapterLoc:o.value},null,8,["chapterLoc"])):k("",!0)])):k("",!0),m(M,{chapter_list:y.value},null,8,["chapter_list"])],64)}}},Z=N(G,[["__scopeId","data-v-760db473"]]);export{Z as default};
